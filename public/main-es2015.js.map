{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/shared/components/nav-bar/nav-bar.component.ts","./src/app/shared/components/nav-bar/nav-bar.component.html","./src/app/shared/services/auth.interceptor.ts","./src/app/shared/services/storage.service.ts","./src/app/shared/services/user-api.service.ts","./src/app/shared/services/user.service.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,wE;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAyC;AACc;;;AAEvD,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CACjB,4MAAoC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;KAC3E;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,GAAG,EAAE,CACjB,4MAAoC,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,MAAM,CAAC,UAAU,CAAC;KAC3E;IACD,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,aAAa,EAAE;CAC1C,CAAC;AAMK,MAAM,gBAAgB;;+FAAhB,gBAAgB;0JAAhB,gBAAgB,kBAHlB,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QAC7B,4DAAY;mIAEX,gBAAgB,uFAFjB,4DAAY;6FAEX,gBAAgB;cAJ5B,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;aACxB;;;;;;;;;;;;;;ACpBD;AAAA;AAAA;AAAA;AAAA;AAA0C;;;;AAOnC,MAAM,YAAY;IALzB;QAME,UAAK,GAAG,aAAa,CAAC;KACvB;;wEAFY,YAAY;4FAAZ,YAAY;QCPzB,yEAIE;QAAA,yEAA2B;QAC3B,2EAA+B;QACjC,4DAAM;;6FDCO,YAAY;cALxB,uDAAS;eAAC;gBACT,QAAQ,EAAE,UAAU;gBACpB,WAAW,EAAE,sBAAsB;gBACnC,SAAS,EAAE,CAAC,sBAAsB,CAAC;aACpC;;;;;;;;;;;;;;AEND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACjB;AAEe;AACT;AACO;;AAQ/C,MAAM,SAAS;;wFAAT,SAAS,cAFR,2DAAY;4IAEb,SAAS,mBAHT,EAAE,YADJ,CAAC,uEAAa,EAAE,oEAAgB,EAAE,kEAAY,CAAC;mIAI7C,SAAS,mBALL,2DAAY,aACjB,uEAAa,EAAE,oEAAgB,EAAE,kEAAY;6FAI5C,SAAS;cANrB,sDAAQ;eAAC;gBACR,YAAY,EAAE,CAAC,2DAAY,CAAC;gBAC5B,OAAO,EAAE,CAAC,uEAAa,EAAE,oEAAgB,EAAE,kEAAY,CAAC;gBACxD,SAAS,EAAE,EAAE;gBACb,SAAS,EAAE,CAAC,2DAAY,CAAC;aAC1B;;;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6D;;;;;;;ICkBzD,wEACE;IAAA,wEACE;IAAA,uEAAoD;IAAA,6HAAW;IAAA,4DAAI;IACrE,4DAAK;IAEL,wEACE;IAAA,uEAA6C;IAAA,mFAAI;IAAA,4DAAI;IACvD,4DAAK;IACP,4DAAK;;;;IACL,wEACE;IAAA,wEACE;IAAA,wEAAoB;IAAA,uDAAyB;IAAA,4DAAI;IACnD,4DAAK;IAEL,wEACE;IAAA,wEACG;IADA,kTAAoB;IACpB,yFAAK;IAAA,4DACP;IACH,4DAAK;IACP,4DAAK;;;IARmB,0DAAyB;IAAzB,mIAAyB;;;ADpB9C,MAAM,eAAe;IAS1B,YAAoB,YAAyB;QAAzB,iBAAY,GAAZ,YAAY,CAAa;QAR7C,eAAU,GAAG,KAAK,CAAC;QACnB,eAAU,GAAG,KAAK,CAAC;QAEnB,iBAAY,GAAG;YACb,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,EAAE;YACZ,MAAM,EAAE,EAAE;SACX,CAAC;IAC8C,CAAC;IAEjD,QAAQ;QACN,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAC1D,CAAC,GAAY,EAAE,EAAE;YACf,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE,EAAE;oBAEzC,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACrC,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;oBAC3C,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;oBACvC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACzB,CAAC,CAAC,CAAC;aACJ;iBAAM;gBACL,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aACzB;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IACD,YAAY;QACV,IAAI,CAAC,UAAU,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC;IACrC,CAAC;IACD,WAAW;QACT,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClC,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC;IAC7B,CAAC;;8EArCU,eAAe;+FAAf,eAAe;QCT5B,yEAWE;QAAA,uEAAkC;QAAA,oEAAQ;QAAA,4DAAI;QAE9C,4EACE;QAD2C,uIAAS,kBAAc,IAAC;QACnE,qEAAyC;QAC3C,4DAAS;QAET,yEACE;QAAA,yGACE;QAQF,yGACE;QAUJ,4DAAM;QACR,4DAAM;;QAtBkC,0DAAgC;QAAhC,0JAAgC;QAChE,0DAAmB;QAAnB,iFAAmB;QASnB,0DAAkB;QAAlB,gFAAkB;;6FDlBb,eAAe;cAL3B,uDAAS;eAAC;gBACT,QAAQ,EAAE,aAAa;gBACvB,WAAW,EAAE,0BAA0B;gBACvC,SAAS,EAAE,CAAC,0BAA0B,CAAC;aACxC;;;;;;;;;;;;;;AEDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACF;AAIG;;;;AAGrC,MAAM,eAAe;IAC1B,YACU,cAA8B,EAC9B,WAAwB;QADxB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;IAC/B,CAAC;IACJ,SAAS,CACP,OAAyB,EACzB,IAAiB;QAEjB,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;YACtB,UAAU,EAAE;gBACV,aAAa,EAAE,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;aACzD;SACF,CAAC,CAAC;QACH,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,CAC9B,iEAAU,CAAC,CAAC,GAAsB,EAAE,EAAE;YACpC,MAAM,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,MAAM,CAAC;YACjC,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,IAAI,MAAM,KAAK,GAAG,EAAE;gBACtD,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;aAC3B;YAED,OAAO,0CAAK,CAAC;QACf,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;;8EAxBU,eAAe;kGAAf,eAAe,WAAf,eAAe;6FAAf,eAAe;cAD3B,wDAAU;;;;;;;;;;;;;;ACdX;AAAA;AAAA;AAA2C;;AAGpC,MAAM,cAAc;IACzB;QAEiB,WAAM,GAAG,IAAI,CAAC;IAFhB,CAAC;IAIhB,IAAI,MAAM;QACR,OAAO,YAAY,CAAC,MAAM,CAAC;IAC7B,CAAC;IAED,GAAG,CAAC,KAAa;QACf,OAAO,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACjC,CAAC;IAED,KAAK;QACH,YAAY,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAED,OAAO,CAAC,GAAW,EAAE,KAAU;QAC7B,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEvC,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IAC1C,CAAC;IAED,OAAO,CAAC,GAAW;QACjB,MAAM,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QAClC,MAAM,KAAK,GAAG,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAE5C,OAAO,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAC1C,CAAC;IAED,UAAU,CAAC,IAA4B;QACrC,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;YACvB,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;SACnE;aAAM;YACL,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;SAC7C;IACH,CAAC;IAEO,SAAS,CAAC,KAAU;QAC1B,IAAI,WAAmB,CAAC;QAExB,IAAI,CAAC,KAAK,EAAE;YACV,WAAW,GAAG,EAAE,CAAC;SAClB;aAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YACpC,WAAW,GAAG,KAAK,CAAC;SACrB;aAAM;YACL,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;SACrC;QAED,OAAO,WAAW,CAAC;IACrB,CAAC;IAEO,KAAK,CAAC,KAAa;QACzB,IAAI,WAAgB,CAAC;QAErB,IAAI;YACF,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACjC;QAAC,OAAO,KAAK,EAAE;YACd,WAAW,GAAG,KAAK,CAAC;SACrB;QAED,OAAO,WAAW,IAAI,IAAI,CAAC;IAC7B,CAAC;IAEO,OAAO,CAAC,GAAW;QACzB,OAAO,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC;IAC9D,CAAC;;4EAnEU,cAAc;iGAAd,cAAc,WAAd,cAAc;6FAAd,cAAc;cAD1B,wDAAU;;;;;;;;;;;;;;ACDX;AAAA;AAAA;AAAA;AAAA;AAA2C;AACgB;;;AAGpD,MAAM,cAAc;IAEzB,YAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QADnB,aAAQ,GAAG,wEAAW,CAAC,MAAM,CAAC;IACR,CAAC;IAExC,WAAW,CAAC,EAAE;QACZ,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAM,GAAG,IAAI,CAAC,QAAQ,kBAAkB,EAAE,EAAE,CAAC,CAAC;IACpE,CAAC;;4EANU,cAAc;iGAAd,cAAc,WAAd,cAAc;6FAAd,cAAc;cAD1B,wDAAU;;;;;;;;;;;;;;ACJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACJ;;;;AAKhC,MAAM,WAAW;IACtB,YAAoB,cAA8B,EAAU,MAAc;QAAtD,mBAAc,GAAd,cAAc,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAajE,UAAK,GAAG,IAAI,oDAAe,CAAM,IAAI,CAAC,CAAC;QAEvC,eAAU,GAAG,aAAa,CAAC;QAEpC,iBAAY,GAAG,IAAI,oDAAe,CAAU,KAAK,CAAC,CAAC;QAhBjD,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;YACtB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9B;QACD,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACnD,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACzD,MAAM,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACrD,IAAI,KAAK,EAAE;YACT,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC;YAC7C,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC,CAAC;SACpC;IACH,CAAC;IAQD,WAAW;QACT,MAAM,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACnD,OAAO,OAAO,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,KAAK,CAAC,IAAI;QACR,IAAI,IAAI,EAAE;YACR,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACjD,0DAA0D;YAC1D,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YACjD,sDAAsD;YACtD,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;YAC/C,MAAM,QAAQ,GAAG;gBACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,KAAK,EAAE,IAAI,CAAC,KAAK;aAElB,CAAC;YACF,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC1B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC9B;aAAM;YACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC9B,OAAO,SAAS,CAAC;SAClB;IACH,CAAC;IAED,MAAM;QACJ,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,CAAC;QAC5B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC9B,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;IACxC,CAAC;;sEAjDU,WAAW;8FAAX,WAAW,WAAX,WAAW;6FAAX,WAAW;cADvB,wDAAU;;;;;;;;;;;;;;ACLX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyC;AACM;AAC0B;AAClB;AACR;AACa;AACN;AACQ;AACa;AACd;;AAgBtD,MAAM,YAAY;;2FAAZ,YAAY;kJAAZ,YAAY,mBAXZ;QACT,wEAAc;QACd,kEAAW;QACX,yEAAc;QACd;YACE,OAAO,EAAE,sEAAiB;YAC1B,QAAQ,EAAE,0EAAe;YACzB,KAAK,EAAE,IAAI;SACZ;KACF,YAZQ,CAAC,4DAAY,EAAE,oEAAS,EAAE,4DAAY,EAAE,qEAAgB,CAAC;mIAcvD,YAAY,mBAbR,qFAAe,aADpB,4DAAY,EAAE,oEAAS,EAAE,4DAAY,EAAE,qEAAgB,aAEvD,qFAAe;6FAYd,YAAY;cAfxB,sDAAQ;eAAC;gBACR,OAAO,EAAE,CAAC,4DAAY,EAAE,oEAAS,EAAE,4DAAY,EAAE,qEAAgB,CAAC;gBAClE,YAAY,EAAE,CAAC,qFAAe,CAAC;gBAC/B,OAAO,EAAE,CAAC,qFAAe,CAAC;gBAC1B,SAAS,EAAE;oBACT,wEAAc;oBACd,kEAAW;oBACX,yEAAc;oBACd;wBACE,OAAO,EAAE,sEAAiB;wBAC1B,QAAQ,EAAE,0EAAe;wBACzB,KAAK,EAAE,IAAI;qBACZ;iBACF;aACF;;;;;;;;;;;;;;ACxBD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,MAAM,EAAE,2BAA2B;CACpC,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;ACRnE,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from \"@angular/core\";\nimport { Routes, RouterModule } from \"@angular/router\";\n\nconst routes: Routes = [\n  {\n    path: \"auth\",\n    loadChildren: () =>\n      import(`./modules/auth/auth.module`).then((module) => module.AuthModule),\n  },\n  {\n    path: \"main\",\n    loadChildren: () =>\n      import(`./modules/main/main.module`).then((module) => module.MainModule),\n  },\n  { path: '**', redirectTo: '/auth/login' }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule],\n})\nexport class AppRoutingModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'diplom-blog';\n}\n","<div\n  style=\"height: 100%; display: grid; grid-template-rows: 56px 0 1fr\"\n  class=\"main\"\n>\n  <app-nav-bar></app-nav-bar>\n  <router-outlet></router-outlet>\n</div>\n","import { BrowserModule } from \"@angular/platform-browser\";\nimport { NgModule } from \"@angular/core\";\n\nimport { AppRoutingModule } from \"./app-routing.module\";\nimport { AppComponent } from \"./app.component\";\nimport { SharedModule } from \"./shared/shared.module\";\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [BrowserModule, AppRoutingModule, SharedModule],\n  providers: [],\n  bootstrap: [AppComponent],\n})\nexport class AppModule {}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { Subscription } from \"rxjs\";\nimport { UserService } from \"../../services/user.service\";\n\n@Component({\n  selector: \"app-nav-bar\",\n  templateUrl: \"./nav-bar.component.html\",\n  styleUrls: [\"./nav-bar.component.scss\"],\n})\nexport class NavBarComponent implements OnInit, OnDestroy {\n  navbarOpen = false;\n  authToggle = false;\n  subscription: Subscription;\n  userInfoData = {\n    email: \"\",\n    username: \"\",\n    avatar: \"\",\n  };\n  constructor(private _userService: UserService) {}\n\n  ngOnInit() {\n    this.subscription = this._userService.isAuthorized.subscribe(\n      (res: boolean) => {\n        if (res) {\n          this._userService.user$.subscribe((info) => {\n\n            this.userInfoData.email = info.email;\n            this.userInfoData.username = info.username;\n            this.userInfoData.avatar = info.avatar;\n            this.authToggle = true;\n          });\n        } else {\n          this.authToggle = false;\n        }\n      }\n    );\n  }\n  toggleNavbar() {\n    this.navbarOpen = !this.navbarOpen;\n  }\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  onLogout() {\n    this._userService.logout();\n  }\n}\n","<nav\n  class=\"navbar navbar-expand-lg navbar-dark bg-dark\"\n  style=\"\n    position: relative;\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: flex-start;\n    padding: 0.5rem 1rem;\n  \"\n>\n  <a class=\"navbar-brand\" href=\"#\"> My blog </a>\n\n  <button class=\"navbar-toggler\" type=\"button\" (click)=\"toggleNavbar()\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n\n  <div class=\"collapse navbar-collapse\" [ngClass]=\"{ show: navbarOpen }\">\n    <ul *ngIf=\"!authToggle\" class=\"navbar-nav mr-auto\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" routerLink=\"/auth/registration\">Регистрация</a>\n      </li>\n\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" routerLink=\"/auth/login\">Вход</a>\n      </li>\n    </ul>\n    <ul *ngIf=\"authToggle\" class=\"navbar-nav mr-auto\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\">{{ userInfoData?.email }}</a>\n      </li>\n\n      <li class=\"nav-item\">\n        <a (click)=\"onLogout()\" style=\"cursor: pointer\" class=\"nav-link\"\n          >Выйти</a\n        >\n      </li>\n    </ul>\n  </div>\n</nav>\n","import {\r\n  HttpErrorResponse,\r\n  HttpEvent,\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n} from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { EMPTY, Observable } from \"rxjs\";\r\nimport { StorageService } from \"./storage.service\";\r\nimport { UserService } from \"./user.service\";\r\n\r\nimport { catchError } from \"rxjs/operators\";\r\n\r\n@Injectable()\r\nexport class AuthInterceptor implements HttpInterceptor {\r\n  constructor(\r\n    private storageService: StorageService,\r\n    private userService: UserService\r\n  ) {}\r\n  intercept(\r\n    request: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    request = request.clone({\r\n      setHeaders: {\r\n        authorization: `${this.storageService.getItem(\"token\")}`,\r\n      },\r\n    });\r\n    return next.handle(request).pipe(\r\n      catchError((err: HttpErrorResponse) => {\r\n        const status = err && err.status;\r\n        if (status === 401 || status === 403 || status === 400) {\r\n          this.userService.logout();\r\n        }\r\n\r\n        return EMPTY;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\n\n@Injectable()\nexport class StorageService {\n  constructor() {}\n\n  private readonly prefix = \"mb\";\n\n  get length(): number {\n    return localStorage.length;\n  }\n\n  key(index: number): string | null {\n    return localStorage.key(index);\n  }\n\n  clear(): void {\n    localStorage.clear();\n  }\n\n  setItem(key: string, value: any): void {\n    const fullKey = this.makeKey(key);\n    const strValue = this.stringify(value);\n\n    localStorage.setItem(fullKey, strValue);\n  }\n\n  getItem(key: string): any {\n    const fullKey = this.makeKey(key);\n    const value = localStorage.getItem(fullKey);\n\n    return value ? this.parse(value) : null;\n  }\n\n  removeItem(keys: string | Array<string>): void {\n    if (Array.isArray(keys)) {\n      keys.forEach((key) => localStorage.removeItem(this.makeKey(key)));\n    } else {\n      localStorage.removeItem(this.makeKey(keys));\n    }\n  }\n\n  private stringify(value: any): string {\n    let stringValue: string;\n\n    if (!value) {\n      stringValue = \"\";\n    } else if (typeof value === \"string\") {\n      stringValue = value;\n    } else {\n      stringValue = JSON.stringify(value);\n    }\n\n    return stringValue;\n  }\n\n  private parse(value: string): any {\n    let outputValue: any;\n\n    try {\n      outputValue = JSON.parse(value);\n    } catch (error) {\n      outputValue = value;\n    }\n\n    return outputValue || null;\n  }\n\n  private makeKey(key: string): string {\n    return Boolean(this.prefix) ? `${this.prefix}:${key}` : key;\n  }\n}\n","import { HttpClient } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { environment } from \"src/environments/environment\";\n\n@Injectable()\nexport class UserApiService {\n  private readonly BASE_URL = environment.apiurl;\n  constructor(private http: HttpClient) {}\n\n  getUserInfo(id) {\n    return this.http.get<any>(`${this.BASE_URL}/api/user/info/${id}`);\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { StorageService } from \"./storage.service\";\nimport { Router } from \"@angular/router\";\n\n@Injectable()\nexport class UserService {\n  constructor(private storageService: StorageService, private router: Router) {\n    if (this.hasAuthData()) {\n      this.isAuthorized.next(true);\n    }\n    const email = this.storageService.getItem(\"email\");\n    const username = this.storageService.getItem(\"username\");\n    const avatar = this.storageService.getItem(\"avatar\");\n    if (email) {\n      this.user$.next({ username, email, avatar });\n      console.log(this.user$.getValue());\n    }\n  }\n\n  readonly user$ = new BehaviorSubject<any>(null);\n\n  readonly LOGIN_PATH = \"/auth/login\";\n\n  isAuthorized = new BehaviorSubject<boolean>(false);\n\n  hasAuthData() {\n    const token = this.storageService.getItem(\"token\");\n    return Boolean(token);\n  }\n\n  login(user) {\n    if (user) {\n      this.storageService.setItem(\"token\", user.token);\n      // this.storageService.setItem(\"username\", user.username);\n      this.storageService.setItem(\"email\", user.email);\n      // this.storageService.setItem(\"avatar\", user.avatar);\n      this.storageService.setItem(\"id\", user.userId);\n      const resCache = {\n        username: user.username,\n        email: user.email,\n        // avatar: user.avatar,\n      };\n      this.user$.next(resCache);\n      this.isAuthorized.next(true);\n    } else {\n      this.isAuthorized.next(false);\n      return undefined;\n    }\n  }\n\n  logout() {\n    this.storageService.clear();\n    this.isAuthorized.next(false);\n    this.router.navigate([\"/auth/login\"]);\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { NavBarComponent } from \"./components/nav-bar/nav-bar.component\";\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\nimport { RouterModule } from \"@angular/router\";\nimport { StorageService } from \"./services/storage.service\";\nimport { UserService } from \"./services/user.service\";\nimport { AuthInterceptor } from \"./services/auth.interceptor\";\nimport { HttpClientModule, HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { UserApiService } from \"./services/user-api.service\";\n@NgModule({\n  imports: [CommonModule, NgbModule, RouterModule, HttpClientModule],\n  declarations: [NavBarComponent],\n  exports: [NavBarComponent],\n  providers: [\n    StorageService,\n    UserService,\n    UserApiService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptor,\n      multi: true,\n    },\n  ],\n})\nexport class SharedModule {}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  apiurl: \"http://188.227.84.35:3000\",\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}